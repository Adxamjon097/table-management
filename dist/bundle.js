!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){$(document).ready((function(){$("button#add").click((function(){let e=$("input#n").val(),t=$("input#m").val(),n=$("input#k").val();if(e&&t&&n&&e>0&&t>0&&n>0){let n=[],o=[];for(let o=0;o<t;o++){n[o]=[];for(let t=0;t<e;t++)n[o][t]={name:"",colspan:1,rowspan:1,x:o,y:t}}for(let t=0;t<e;t++)o[t]={type:"",variants:[],name:"",formula:""};!function e(t){!function(e){var t,n=new Array(e.length).fill(0);for(let t=0;t<e.length;t++)for(let o=0;o<e[t].length;o++)if(n[t]+=e[t][o].colspan,e[t][o].rowspan>1)for(let a=t+1;a<=t+e[t][o].rowspan-1;a++)n[a]+=e[t][o].colspan;t=Math.max(...n);for(let o=0;o<n.length;o++)if(n[o]!=t)for(let a=0;a<t-n[o];a++)e[o].push({name:"",name:"",rowspan:1,colspan:1,x:o,j:e[o].length})}(t);$("div#table").html("");let n=$("<table class='table table-striped'>");for(let o=0;o<t.length;o++){let a=$("<tr>");for(let n=0;n<t[o].length;n++){let l=$("<td>").attr("colspan",t[o][n].colspan).attr("rowspan",t[o][n].rowspan);$("<input>").val(t[o][n].name).change((function(){t[o][n].name=$(this).val()})).appendTo(l),l.appendTo(a);let p=$("<div class='icons'>").appendTo(l);if(n!=t[o].length-1){$("<a>").html('<i class="fa fa-arrow-right"></i>').click((function(){let a=t[o][n+1];t[o][n].colspan+=a.colspan;for(let e=o;e<=o+t[o][n].rowspan-1;e++)e==o?t[e].splice(n+1,1):t[e].pop();e(t)})).appendTo(p)}if(t[o][n].colspan>1){$("<a>").html('<i class="fa fa-arrow-left"></i>').click((function(){t[o][n].colspan--;for(let e=o;e<o+t[o][n].rowspan;e++)t[e].push({name:"",rowspan:1,colspan:1,x:e,j:t[e].length});e(t)})).appendTo(p)}if(t[o][n].rowspan>1){$("<a>").html('<i class="fa fa-arrow-up"></i>').click((function(){t[o][n].rowspan--;for(let e=0;e<t[o][n].colspan;e++)t[o+t[o][n].rowspan].push({name:"",rowspan:1,colspan:1,x:o+t[o][n].rowspan,j:t[o+t[o][n].rowspan].length});e(t)})).appendTo(p)}if(o+t[o][n].rowspan-1!=t.length-1){$("<a>").html('<i class="fa fa-arrow-down"></i>').click((function(){for(let e=0;e<t[o][n].colspan;e++){let e=t[o+t[o][n].rowspan];e&&e.pop()}t[o][n].rowspan++,e(t)})).appendTo(p)}}a.appendTo(n)}n.appendTo("div#table")}(n),function(e){$("div#types").html("");let t=$("<table class='table table-striped'>"),n=$("<tr>");for(let t=0;t<e.length;t++){let o=$("<td>"),a=$("<select id='example'>"),l=$('<option value="null" selected="selected">--tanlang--</option>'),p=$('<option value="foo">number</option>'),r=$('<option value="foo">select</option>'),i=$('<option value="foo">text</option>'),c=$('<option value="foo">formula</option>'),f=$('<option value="foo">table</option>'),s=$("<input type='text' placeholder='name'>").val(e[t].name).change((function(){e[t].name=$(this).val(),console.log(e)})),u=$("<input type='text' placeholder='formula'>").val(e[t].formula).change((function(){e[t].formula=$(this).val(),console.log(e)})),d=$("<input type='text' placeholder='variants'>"),h=$("<input type='text' placeholder='table'>"),m=$("<input type='text' placeholder='key'>"),v=$("<input type='text' placeholder='value'>");l.appendTo(a),p.appendTo(a),r.appendTo(a),i.appendTo(a),c.appendTo(a),f.appendTo(a),a.appendTo(o),s.appendTo(o),u.appendTo(o),d.appendTo(o),h.appendTo(o),m.appendTo(o),v.appendTo(o),o.appendTo(n)}n.appendTo(t),t.appendTo("div#types")}(o)}!e||e<=0?$("#n-error").text("Укажите значение N"):$("#n-error").text(""),!t||t<=0?$("#m-error").text("Укажите значение M"):$("#m-error").text(""),!n||n<=0?$("#k-error").text("Укажите значение K"):$("#k-error").text("")}))}))}]);